(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-158b21b1"],{"216b":function(e,t,n){"use strict";var o=n("2228"),a=n.n(o);a.a},2228:function(e,t,n){},"9b82":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e.componentError?n("v-btn",{style:{left:"50%",transform:"translate(-50%, 100%)","z-index":5},attrs:{absolute:"",top:"",color:"error"},on:{click:function(t){return e.tryAgainMarker()}}},[e._v("Try Again ")]):e._e()],1),n("v-flex",{attrs:{xs12:""}},[n("div",{class:{withOutNav:e.$vuetify.breakpoint.smAndDown,withOutNavMd:e.$vuetify.breakpoint.mdOnly,withNav:e.$vuetify.breakpoint.lgAndUp}},[e.regCode?n("l-map",{attrs:{id:"map",zoom:e.zoom,center:e.center,crs:e.crs,"min-zoom":e.minZoom,options:{zoomControl:!1,preferCanvas:!0,doubleClickZoom:!1,attributionControl:!1}},on:{"update:zoom":e.onUpdateMapZoom}},[n("l-tile-layer",{attrs:{url:e.url}}),n("l-control-zoom",{attrs:{position:"topright"}}),n("l-control",{attrs:{position:"topleft",id:"control-container"}},[n("v-layout",{attrs:{wrap:"","fill-height":""}},[n("v-card",{staticClass:"pa-2 ma-0"},[n("v-flex",{attrs:{xs12:"","d-flex":""}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.markers,label:"Marker:","prepend-icon":e.markerPrependIcon,"hide-details":"","single-line":""},model:{value:e.activeMarker,callback:function(t){e.activeMarker=t},expression:"activeMarker"}})],1),n("v-flex",{attrs:{xs12:"","d-flex":""}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-text-field",e._g({staticClass:"pa-0",staticStyle:{"min-width":"230px","max-width":"230px"},attrs:{value:e.computedDateFormattedMomentjs(e.selectedDate),"prepend-icon":"event",label:"Date:",clearable:"","persistent-hint":"","hide-details":"",readonly:"","single-line":""},on:{"click:clear":e.onDateClear}},o))]}}],null,!1,3830865609),model:{value:e.menuDate,callback:function(t){e.menuDate=t},expression:"menuDate"}},[n("v-date-picker",{attrs:{max:e.maxDateWMO,"no-title":"",scrollable:""},on:{input:e.onDateInput},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)],1)],1)],1)],1),""!==e.activeMarker?n(e.activeMarker,{tag:"component",attrs:{regCode:e.regCode,"archive-date":e.selectedDate},on:{"error-server":function(t){return e.onComponentError()},loaded:function(t){return e.onLoaded()}}}):e._e()],1):e._e()],1)])],1)},a=[],r=(n("99af"),n("7db0"),n("2699")),i=n("a40a"),c=n("2253"),l=n("c8b6"),s=n("a766"),u=n("18ba"),d=n("0261"),p=n("2ed7"),m=n("3b9c"),f={name:"ArchiveMap",components:{LMap:r["a"],LTileLayer:i["a"],LControl:c["a"],LControlZoom:l["a"],MapRain:p["a"],MapWaterLevel:m["a"]},mixins:[s["c"],d["a"]],created:function(){console.log("created ArchiveMap"),this.refreshMapOptions()},computed:{crs:function(){return L.CRS.EPSG3857},mapName:function(){var e=this;return this.tilesets.find((function(t){return t.url===e.url})).name},markerPrependIcon:function(){return"cloud"}},data:function(){return{zoom:8,minZoom:5,center:[],url:"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png",componentError:!1,markers:[{text:"Rainfall",value:"MapRain"},{text:"Waterlevel",value:"MapWaterLevel"}],activeMarker:"",menuDate:"",selectedDate:""}},methods:{onUpdateMapZoom:function(e){console.log("zoom changed ".concat(e)),this.zoom=e},refreshMapOptions:function(){var e=this;null!=this.regCode&&(this.zoom=u["a"].find((function(t){return t.regCode===e.regCode})).zoomLevel,this.center=u["a"].find((function(t){return t.regCode===e.regCode})).center,console.log("refreshMapOptions regCode: ".concat(this.deviceRegion.regCode," Codezoom:").concat(this.zoom," ").concat(this.center)))},onRegCodeChange:function(){console.log("Home.vue onRegCodeChange()"),this.refreshMapOptions(),this.componentError=!1},onDateInput:function(e){this.menuDate=!1},onDateClear:function(){this.selectedDate=""},onLoaded:function(){this.componentError=!1},onComponentError:function(){this.componentError=!0},tryAgainMarker:function(){var e=this,t=this.activeMarker;this.activeMarker="",this.componentError=!1,this.$nextTick((function(){e.activeMarker=t}))}}},v=f,h=(n("216b"),n("2877")),g=n("6544"),k=n.n(g),C=n("8336"),b=n("b0af"),x=n("2e4b"),M=n("0e8f"),D=n("a722"),y=n("e449"),w=n("b56d"),z=n("2677"),E=Object(h["a"])(v,o,a,!1,null,"f71904f6",null);t["default"]=E.exports;k()(E,{VBtn:C["a"],VCard:b["a"],VDatePicker:x["a"],VFlex:M["a"],VLayout:D["a"],VMenu:y["a"],VSelect:w["a"],VTextField:z["a"]})}}]);