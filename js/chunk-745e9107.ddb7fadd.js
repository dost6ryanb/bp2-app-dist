(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-745e9107"],{"0391":function(e,t,n){},"0396":function(e,t,n){"use strict";var a=n("0391"),o=n.n(a);o.a},"9b82":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e.componentError?n("v-btn",{style:{left:"50%",transform:"translate(-50%, 100%)","z-index":5},attrs:{absolute:"",top:"",color:"error"},on:{click:function(t){return e.tryAgainMarker()}}},[e._v("Try Again ")]):e._e()],1),n("v-flex",{attrs:{xs12:""}},[n("div",{class:{withOutNav:e.$vuetify.breakpoint.smAndDown,withOutNavMd:e.$vuetify.breakpoint.mdOnly,withNav:e.$vuetify.breakpoint.lgAndUp}},[e.regCode?n("l-map",{attrs:{id:"map",zoom:e.zoom,center:e.center,crs:e.crs,"min-zoom":e.minZoom,options:{zoomControl:!1,preferCanvas:!0,doubleClickZoom:!1,attributionControl:!1}},on:{"update:zoom":e.onUpdateMapZoom}},[n("l-tile-layer",{attrs:{url:e.url}}),n("l-control-zoom",{attrs:{position:"topright"}}),n("l-control",{attrs:{position:"topleft",id:"control-container"}},[n("v-layout",{attrs:{wrap:"","fill-height":""}},[n("v-card",{staticClass:"pa-2 ma-0"},[n("v-flex",{attrs:{xs12:"","d-flex":""}},[n("v-select",{staticClass:"pa-0",attrs:{items:e.markers,label:"Marker:","prepend-icon":e.markerPrependIcon,"hide-details":"","single-line":""},model:{value:e.activeMarker,callback:function(t){e.activeMarker=t},expression:"activeMarker"}})],1),n("v-flex",{attrs:{xs12:"","d-flex":""}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({staticClass:"pa-0",staticStyle:{"min-width":"230px","max-width":"230px"},attrs:{value:e.computedDateFormattedMomentjs(e.selectedDate),"prepend-icon":"event",label:"Date:",clearable:"","persistent-hint":"","hide-details":"",readonly:"","single-line":""},on:{"click:clear":e.onDateClear}},a))]}}],null,!1,3830865609),model:{value:e.menuDate,callback:function(t){e.menuDate=t},expression:"menuDate"}},[n("v-date-picker",{attrs:{max:e.maxDateWMO,"no-title":"",scrollable:""},on:{input:e.onDateInput},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)],1)],1)],1)],1),""!==e.activeMarker?n(e.activeMarker,{tag:"component",attrs:{regCode:e.regCode,"archive-date":e.selectedDate},on:{"error-server":function(t){return e.onComponentError()},loaded:function(t){return e.onLoaded()}}}):e._e()],1):e._e()],1)])],1)},o=[],r=(n("99af"),n("7db0"),n("f3f3")),i=n("2699"),l=n("a40a"),c=n("2253"),s=n("c8b6"),u=n("a766"),d=n("18ba"),p=n("0261"),m=n("2ed7"),f=n("3b9c"),v=n("2f62"),h={name:"ArchiveMap",components:{LMap:i["a"],LTileLayer:l["a"],LControl:c["a"],LControlZoom:s["a"],MapRain:m["a"],MapWaterLevel:f["a"]},mixins:[u["c"],p["a"]],created:function(){console.log("created ArchiveMap"),""!==this.tilelayer&&null!==this.tilelayer&&(this.url=this.tilelayer),this.refreshMapOptions()},computed:Object(r["a"])(Object(r["a"])({},Object(v["b"])({tilelayer:"getHomeMapTileLayer"})),{},{crs:function(){return L.CRS.EPSG3857},mapName:function(){var e=this;return this.tilesets.find((function(t){return t.url===e.url})).name},markerPrependIcon:function(){return"cloud"}}),data:function(){return{zoom:8,minZoom:5,center:[],url:"",componentError:!1,markers:[{text:"Rainfall",value:"MapRain"},{text:"Waterlevel",value:"MapWaterLevel"}],activeMarker:"",menuDate:"",selectedDate:""}},methods:{onUpdateMapZoom:function(e){console.log("zoom changed ".concat(e)),this.zoom=e},refreshMapOptions:function(){var e=this;null!=this.regCode&&(this.zoom=d["a"].find((function(t){return t.regCode===e.regCode})).zoomLevel,this.center=d["a"].find((function(t){return t.regCode===e.regCode})).center,console.log("refreshMapOptions regCode: ".concat(this.deviceRegion.regCode," Codezoom:").concat(this.zoom," ").concat(this.center)))},onRegCodeChange:function(){console.log("Home.vue onRegCodeChange()"),this.refreshMapOptions(),this.componentError=!1},onDateInput:function(e){this.menuDate=!1},onDateClear:function(){this.selectedDate=""},onLoaded:function(){this.componentError=!1},onComponentError:function(){this.componentError=!0},tryAgainMarker:function(){var e=this,t=this.activeMarker;this.activeMarker="",this.componentError=!1,this.$nextTick((function(){e.activeMarker=t}))}}},g=h,k=(n("0396"),n("2877")),b=n("6544"),C=n.n(b),M=n("8336"),x=n("b0af"),y=n("2e4b"),D=n("0e8f"),w=n("a722"),z=n("e449"),O=n("b56d"),E=n("2677"),V=Object(k["a"])(g,a,o,!1,null,"0b4301d1",null);t["default"]=V.exports;C()(V,{VBtn:M["a"],VCard:x["a"],VDatePicker:y["a"],VFlex:D["a"],VLayout:w["a"],VMenu:z["a"],VSelect:O["a"],VTextField:E["a"]})}}]);