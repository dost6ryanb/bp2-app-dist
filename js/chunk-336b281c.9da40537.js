(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-336b281c"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var o=n("c6b6"),r=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"6f10":function(e,t,n){},"81aa":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{withOutNav:e.$vuetify.breakpoint.smAndDown,withOutNavMd:e.$vuetify.breakpoint.mdOnly,withNav:e.$vuetify.breakpoint.lgAndUp}},[n("l-map",{attrs:{id:"map",zoom:e.zoom,center:e.center,"min-zoom":e.minZoom,options:{zoomControl:!1,preferCanvas:!1,attributionControl:!1}},on:{"update:zoom":e.onUpdateMapZoom}},[n("l-control-zoom",{attrs:{position:"bottomright"}}),n("l-tile-layer",{attrs:{url:e.url}}),n("l-control",{attrs:{position:"bottomright"}},e._l(e.layers,(function(t){return n("l-layer-group",{key:t.name,attrs:{"layer-type":"overlay",name:t.name}},e._l(t.devices,(function(o,r){return n("l-marker",{key:r,attrs:{"lat-lng":[o.posx,o.posy],icon:0===o.status?t.icon:t.icon_disabled},on:{click:function(t){return e.onclick(o.dev_id)}}})})),1)})),1)],1)],1)},r=[],i=(n("99af"),n("7db0"),n("841c"),n("2253")),a=n("2699"),s=n("a40a"),c=n("4e2b"),u=n("f60f"),p=n("e11e"),l=function(e){return e&&"function"===typeof e.charAt?e.charAt(0).toUpperCase()+e.slice(1):e},d=function(e,t,n,o){var r=function(o){var r="set"+l(o),i=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&e[r]?e.$watch(o,(function(t,n){e[r](t,n)}),{deep:i}):"setOptions"===r?e.$watch(o,(function(e,n){Object(p["setOptions"])(t,e)}),{deep:i}):t[r]&&e.$watch(o,(function(e,n){t[r](e)}),{deep:i})};for(var i in n)r(i)},f=function(e){var t={};for(var n in e){var o=e[n];null!==o&&void 0!==o&&(t[n]=o)}return t},h=function(e,t){var n=t.options&&t.options.constructor===Object?t.options:{};e=e&&e.constructor===Object?e:{};var o=f(n);e=f(e);var r=t.$options.props;for(var i in e){var a=r[i]?r[i].default:Symbol("unique");o[i]&&a!==e[i]?(console.warn(i+" props is overriding the value passed in the options props"),o[i]=e[i]):o[i]||(o[i]=e[i])}return o},v={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},m={props:{options:{type:Object,default:function(){return{}}}}},y={name:"LControlZoom",mixins:[v,m],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function(){var e=this,t=h(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=p["control"].zoom(t),d(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){e.$emit("ready",e.mapObject)}))},render:function(){return null}};function b(e,t,n,o,r,i,a,s,c,u){"boolean"!==typeof a&&(c=s,s=a,a=!1);var p,l="function"===typeof n?n.options:n;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),o&&(l._scopeId=o),i?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=p):t&&(p=a?function(){t.call(this,u(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(l.functional){var d=l.render;l.render=function(e,t){return p.call(t),d(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,p):[p]}return n}var g=b,O=y,x=void 0,_=void 0,C=void 0,$=void 0,j=g({},x,O,_,$,C,void 0,void 0),w=j,L=function(e){return e&&"function"===typeof e.charAt?e.charAt(0).toUpperCase()+e.slice(1):e},T=function(e,t,n,o){var r=function(o){var r="set"+L(o),i=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&e[r]?e.$watch(o,(function(t,n){e[r](t,n)}),{deep:i}):"setOptions"===r?e.$watch(o,(function(e,n){Object(p["setOptions"])(t,e)}),{deep:i}):t[r]&&e.$watch(o,(function(e,n){t[r](e)}),{deep:i})};for(var i in n)r(i)},S=function(e){var t={};for(var n in e){var o=e[n];null!==o&&void 0!==o&&(t[n]=o)}return t},R=function(e,t){var n=t.options&&t.options.constructor===Object?t.options:{};e=e&&e.constructor===Object?e:{};var o=S(n);e=S(e);var r=t.$options.props;for(var i in e){var a=r[i]?r[i].default:Symbol("unique");o[i]&&a!==e[i]?(console.warn(i+" props is overriding the value passed in the options props"),o[i]=e[i]):o[i]||(o[i]=e[i])}return o},z={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},k={props:{options:{type:Object,default:function(){return{}}}}},I={name:"LControlLayers",mixins:[z,k],props:{collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}},mounted:function(){var e=this,t=R(Object.assign({},this.controlOptions,{collapsed:this.collapsed,autoZIndex:this.autoZIndex,hideSingleBase:this.hideSingleBase,sortLayers:this.sortLayers,sortFunction:this.sortFunction}),this);this.mapObject=p["control"].layers(null,null,t),T(this,this.mapObject,this.$options.props),this.$parent.registerLayerControl(this),this.$nextTick((function(){e.$emit("ready",e.mapObject)}))},methods:{addLayer:function(e){"base"===e.layerType?this.mapObject.addBaseLayer(e.mapObject,e.name):"overlay"===e.layerType&&this.mapObject.addOverlay(e.mapObject,e.name)},removeLayer:function(e){this.mapObject.removeLayer(e.mapObject)}},render:function(){return null}};function E(e,t,n,o,r,i,a,s,c,u){"boolean"!==typeof a&&(c=s,s=a,a=!1);var p,l="function"===typeof n?n.options:n;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),o&&(l._scopeId=o),i?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=p):t&&(p=a?function(){t.call(this,u(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(l.functional){var d=l.render;l.render=function(e,t){return p.call(t),d(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,p):[p]}return n}var A=E,M=I,U=void 0,Z=void 0,B=void 0,F=void 0,G=A({},U,M,Z,F,B,void 0,void 0),D=G,N=n("1ebb"),W=n("18ba"),V=n("a766"),X={name:"DeviceMap",props:["search","devices","statuses","types"],mixins:[V["e"],V["c"]],created:function(){console.log("created DevicesMap"),this.refreshMapOptions(),this.refreshLayerGroups()},components:{LControl:i["a"],LMap:a["a"],LTileLayer:s["a"],LMarker:c["a"],LPopup:u["a"],LControlZoom:w,LControlLayers:D,LLayerGroup:N["a"]},mounted:function(){},data:function(){return{zoom:1,maxZoom:18,minZoom:5,center:[],url:"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png",layersPosition:"topright",layers:{raingauge:{name:"Rain Gauges",devices:[],icon:W["z"],icon_disabled:W["y"]},waterlevel:{name:"Water Level Station",devices:[],icon:W["i"],icon_disabled:W["h"]},tandem:{name:"Tandem",devices:[],icon:W["db"],icon_disabled:W["cb"]},aws:{name:"Automated Weather Station",devices:[],icon:W["bb"],icon_disabled:W["ab"]}}}},watch:{devices:function(e,t){null==e||this.refreshLayerGroups()},search:function(e,t){console.log("search Updating ".concat(t," to ").concat(e)),this.refreshLayerGroups()},statuses:function(e,t){console.log("statuses Updating ".concat(t," to ").concat(e)),this.refreshLayerGroups()},types:function(e,t){console.log("types Updating ".concat(t," to ").concat(e)),this.refreshLayerGroups()}},methods:{onclick:function(e){this.$emit("device-selected",e)},refreshLayerGroups:function(){this.layers.raingauge.devices=[],this.layers.waterlevel.devices=[],this.layers.tandem.devices=[],this.layers.aws.devices=[];for(var e=0;e<this.devices.length;e++){var t=this.devices[e];if(null==this.search||!1!==this.$_searchMixin_deviceFilter(t,this.search,this.statuses,this.types))switch(t.type_name){case"Rain1":case"Rain2":this.layers.raingauge.devices.push(t);break;case"Waterlevel":this.layers.waterlevel.devices.push(t);break;case"Waterlevel & Rain 2":this.layers.tandem.devices.push(t);break;case"BSWM_Lufft":case"VAISALA":case"UAAWS":this.layers.aws.devices.push(t);break}}},refreshMapOptions:function(){var e=this;this.zoom=W["a"].find((function(t){return t.regCode===e.regCode})).zoomLevel,this.center=W["a"].find((function(t){return t.regCode===e.regCode})).center},onUpdateMapCenter:function(e){},onUpdateMapZoom:function(e){this.zoom=e},onDblClick:function(e){e.stopPropagation()},onRegCodeChange:function(){console.log("DeviceMap.vue onRegCodeChange()"),this.refreshMapOptions()}}},P=X,q=(n("c481"),n("2877")),J=Object(q["a"])(P,o,r,!1,null,"2b049f37",null);t["default"]=J.exports},"841c":function(e,t,n){"use strict";var o=n("d784"),r=n("825a"),i=n("1d80"),a=n("129f"),s=n("14c3");o("search",1,(function(e,t,n){return[function(t){var n=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,n):new RegExp(t)[e](String(n))},function(e){var o=n(t,e,this);if(o.done)return o.value;var i=r(e),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var p=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===p?-1:p.index}]}))},9263:function(e,t,n){"use strict";var o=n("ad6d"),r=RegExp.prototype.exec,i=String.prototype.replace,a=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(a=function(e){var t,n,a,u,p=this;return c&&(n=new RegExp("^"+p.source+"$(?!\\s)",o.call(p))),s&&(t=p.lastIndex),a=r.call(p,e),s&&a&&(p.lastIndex=p.global?a.index+a[0].length:t),c&&a&&a.length>1&&i.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),e.exports=a},c481:function(e,t,n){"use strict";var o=n("6f10"),r=n.n(o);r.a},d784:function(e,t,n){"use strict";var o=n("9112"),r=n("6eeb"),i=n("d039"),a=n("b622"),s=n("9263"),c=a("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,l){var d=a(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!h||"replace"===e&&!u||"split"===e&&!p){var v=/./[d],m=n(d,""[e],(function(e,t,n,o,r){return t.exec===s?f&&!r?{done:!0,value:v.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}})),y=m[0],b=m[1];r(String.prototype,e,y),r(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)}),l&&o(RegExp.prototype[d],"sham",!0)}}}}]);