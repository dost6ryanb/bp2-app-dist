(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cb081b3"],{"214f":function(t,e,n){"use strict";n("b0c5");var o=n("2aba"),r=n("32e9"),i=n("79e5"),a=n("be13"),s=n("2b4c"),c=n("520a"),p=s("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),f=!i(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),h=f?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[p]=function(){return n}),n[d](""),!e}):void 0;if(!f||!h||"replace"===t&&!u||"split"===t&&!l){var v=/./[d],m=n(a,d,""[t],function(t,e,n,o,r){return e.exec===c?f&&!r?{done:!0,value:v.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),b=m[0],y=m[1];o(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"386d":function(t,e,n){"use strict";var o=n("cb7c"),r=n("83a1"),i=n("5f1b");n("214f")("search",1,function(t,e,n,a){return[function(n){var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=o(t),c=String(this),p=s.lastIndex;r(p,0)||(s.lastIndex=0);var u=i(s,c);return r(s.lastIndex,p)||(s.lastIndex=p),null===u?-1:u.index}]})},"520a":function(t,e,n){"use strict";var o=n("0bfb"),r=RegExp.prototype.exec,i=String.prototype.replace,a=r,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),p=void 0!==/()??/.exec("")[1],u=c||p;u&&(a=function(t){var e,n,a,u,l=this;return p&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l[s]),a=r.call(l,t),c&&a&&(l[s]=l.global?a.index+a[0].length:e),p&&a&&a.length>1&&i.call(a[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),t.exports=a},"5f1b":function(t,e,n){"use strict";var o=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"81aa":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{withOutNav:t.$vuetify.breakpoint.smAndDown,withOutNavMd:t.$vuetify.breakpoint.mdOnly,withNav:t.$vuetify.breakpoint.lgAndUp}},[n("l-map",{attrs:{id:"map",zoom:t.zoom,center:t.center,"max-zoom":t.maxZoom,"min-zoom":t.minZoom,options:{zoomControl:!1,preferCanvas:!1,attributionControl:!1}},on:{"update:zoom":t.onUpdateMapZoom}},[n("l-control-zoom",{attrs:{position:"bottomright"}}),n("l-control-layers",{attrs:{position:t.layersPosition,"sort-layers":!0}}),n("l-tile-layer",{attrs:{url:t.url}}),n("l-control",{attrs:{position:"bottomright"}},t._l(t.layers,function(e){return n("l-layer-group",{attrs:{"layer-type":"overlay",name:e.name}},t._l(e.devices,function(o){return n("l-marker",{attrs:{"lat-lng":[o.posx,o.posy],icon:0===o.status?e.icon:e.icon_disabled},on:{click:function(e){return t.onclick(o.dev_id)}}},[n("l-tooltip",{attrs:{content:t.getTooltip(o)}})],1)}),1)}),1)],1)],1)},r=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("386d"),n("bd86")),a=n("2253"),s=n("2699"),c=n("a40a"),p=n("4e2b"),u=n("31dc"),l=n("e11e"),d=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},f=function(t,e,n,o){var r=function(o){var r="set"+d(o),i=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[r]?t.$watch(o,function(e,n){t[r](e,n)},{deep:i}):"setOptions"===r?t.$watch(o,function(t,n){Object(l["setOptions"])(e,t)},{deep:i}):e[r]&&t.$watch(o,function(t,n){e[r](t)},{deep:i})};for(var i in n)r(i)},h=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},v=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=h(n);t=h(t);var r=e.$options.props;for(var i in t){var a=r[i]?r[i].default:Symbol("unique");o[i]&&a!==t[i]?(console.warn(i+" props is overriding the value passed in the options props"),o[i]=t[i]):o[i]||(o[i]=t[i])}return o},m=function(t){var e=!1;while(t&&!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},b={props:{content:{type:String,default:null,custom:!0}},mounted:function(){this.popperOptions={}},methods:{setContent:function(t){this.mapObject&&null!==t&&void 0!==t&&this.mapObject.setContent(t)}},render:function(t){return this.$slots.default?t("div",this.$slots.default):null}},y={props:{options:{type:Object,default:function(){return{}}}}},O={name:"LPopup",mixins:[b,y],props:{latLng:{type:[Object,Array],default:function(){return[]}}},mounted:function(){var t=this,e=v(this.popperOptions,this);this.mapObject=Object(l["popup"])(e),void 0!==this.latLng&&this.mapObject.setLatLng(this.latLng),l["DomEvent"].on(this.mapObject,this.$listeners),f(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=m(this.$parent),this.parentContainer.mapObject.bindPopup(this.mapObject),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},beforeDestroy:function(){this.parentContainer&&(this.parentContainer.unbindPopup?this.parentContainer.unbindPopup():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindPopup&&this.parentContainer.mapObject.unbindPopup())}};function g(t,e,n,o,r,i,a,s,c,p){"boolean"!==typeof a&&(c=s,s=a,a=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),o&&(l._scopeId=o),i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=a?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var j=g,_=O,x=void 0,$=void 0,C=void 0,w=void 0,T=j({},x,_,$,w,C,void 0,void 0),L=T,S=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},R=function(t,e,n,o){var r=function(o){var r="set"+S(o),i=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[r]?t.$watch(o,function(e,n){t[r](e,n)},{deep:i}):"setOptions"===r?t.$watch(o,function(t,n){Object(l["setOptions"])(e,t)},{deep:i}):e[r]&&t.$watch(o,function(t,n){e[r](t)},{deep:i})};for(var i in n)r(i)},E=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},z=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=E(n);t=E(t);var r=e.$options.props;for(var i in t){var a=r[i]?r[i].default:Symbol("unique");o[i]&&a!==t[i]?(console.warn(i+" props is overriding the value passed in the options props"),o[i]=t[i]):o[i]||(o[i]=t[i])}return o},A={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},k={props:{options:{type:Object,default:function(){return{}}}}},P={name:"LControlZoom",mixins:[A,k],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function(){var t=this,e=z(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=l["control"].zoom(e),R(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},render:function(){return null}};function I(t,e,n,o,r,i,a,s,c,p){"boolean"!==typeof a&&(c=s,s=a,a=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),o&&(l._scopeId=o),i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=a?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var U=I,D=P,Z=void 0,M=void 0,F=void 0,B=void 0,N=U({},Z,D,M,B,F,void 0,void 0),V=N,G=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},W=function(t,e,n,o){var r=function(o){var r="set"+G(o),i=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[r]?t.$watch(o,function(e,n){t[r](e,n)},{deep:i}):"setOptions"===r?t.$watch(o,function(t,n){Object(l["setOptions"])(e,t)},{deep:i}):e[r]&&t.$watch(o,function(t,n){e[r](t)},{deep:i})};for(var i in n)r(i)},X=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},q=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=X(n);t=X(t);var r=e.$options.props;for(var i in t){var a=r[i]?r[i].default:Symbol("unique");o[i]&&a!==t[i]?(console.warn(i+" props is overriding the value passed in the options props"),o[i]=t[i]):o[i]||(o[i]=t[i])}return o},J={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},H={props:{options:{type:Object,default:function(){return{}}}}},K={name:"LControlLayers",mixins:[J,H],props:{collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}},mounted:function(){var t=this,e=q(Object.assign({},this.controlOptions,{collapsed:this.collapsed,autoZIndex:this.autoZIndex,hideSingleBase:this.hideSingleBase,sortLayers:this.sortLayers,sortFunction:this.sortFunction}),this);this.mapObject=l["control"].layers(null,null,e),W(this,this.mapObject,this.$options.props),this.$parent.registerLayerControl(this),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},methods:{addLayer:function(t){"base"===t.layerType?this.mapObject.addBaseLayer(t.mapObject,t.name):"overlay"===t.layerType&&this.mapObject.addOverlay(t.mapObject,t.name)},removeLayer:function(t){this.mapObject.removeLayer(t.mapObject)}},render:function(){return null}};function Q(t,e,n,o,r,i,a,s,c,p){"boolean"!==typeof a&&(c=s,s=a,a=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),o&&(l._scopeId=o),i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=a?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var Y=Q,tt=K,et=void 0,nt=void 0,ot=void 0,rt=void 0,it=Y({},et,tt,nt,rt,ot,void 0,void 0),at=it,st=n("1ebb"),ct=n("2f62"),pt=n("18ba"),ut=n("a766");function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(n,!0).forEach(function(e){Object(i["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ft={name:"DeviceMap",props:["search","devices"],mixins:[ut["b"]],created:function(){console.log("created DevicesMap"),this.refreshMapOptions(),this.refreshLayerGroups()},components:{LControl:a["a"],LMap:s["a"],LTileLayer:c["a"],LMarker:p["a"],LTooltip:u["a"],LPopup:L,LControlZoom:V,LControlLayers:at,LLayerGroup:st["a"]},mounted:function(){},computed:dt({},Object(ct["b"])(["deviceRegion"])),data:function(){return{zoom:1,maxZoom:12,minZoom:5,center:[],url:"http://v2.geoportal.gov.ph/tiles/v2/PGP/{z}/{x}/{y}.png",layersPosition:"topright",layers:{raingauge:{name:"Rain Gauges",devices:[],icon:pt["t"],icon_disabled:pt["s"]},waterlevel:{name:"Water Level Station",devices:[],icon:pt["i"],icon_disabled:pt["h"]},tandem:{name:"Tandem",devices:[],icon:pt["W"],icon_disabled:pt["V"]},aws:{name:"Automated Weather Station",devices:[],icon:pt["U"],icon_disabled:pt["T"]}}}},watch:{devices:function(t,e){null==t||this.refreshLayerGroups()},deviceRegion:function(t,e){this.refreshMapOptions()},search:function(t,e){console.log("search Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()}},methods:{getTooltip:function(t){return"".concat(t.citymun_desc," - ").concat(t.locationDesc," (").concat(t.dev_id,")")},onclick:function(t){this.$emit("device-selected",t)},refreshLayerGroups:function(){this.layers.raingauge.devices=[],this.layers.waterlevel.devices=[],this.layers.tandem.devices=[],this.layers.aws.devices=[];for(var t=0;t<this.devices.length;t++){var e=this.devices[t];if(null==this.search||!1!==this.deviceFilter(e,this.search))switch(e.type_name){case"Rain1":case"Rain2":this.layers.raingauge.devices.push(e);break;case"Waterlevel":this.layers.waterlevel.devices.push(e);break;case"Waterlevel & Rain 2":this.layers.tandem.devices.push(e);break;case"BSWM_Lufft":case"VAISALA":case"UAAWS":this.layers.aws.devices.push(e);break}}},refreshMapOptions:function(){var t=this;this.zoom=pt["a"].find(function(e){return e.regCode===t.deviceRegion.regCode}).zoomLevel,this.center=pt["a"].find(function(e){return e.regCode===t.deviceRegion.regCode}).center},onUpdateMapCenter:function(t){},onUpdateMapZoom:function(t){this.zoom=t},onDblClick:function(t){t.stopPropagation()}}},ht=ft,vt=(n("ebd6a"),n("2877")),mt=Object(vt["a"])(ht,o,r,!1,null,"b1914054",null);e["default"]=mt.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},b0c5:function(t,e,n){"use strict";var o=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},b9f1:function(t,e,n){},ebd6a:function(t,e,n){"use strict";var o=n("b9f1"),r=n.n(o);r.a}}]);