(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-544a5b9b"],{"0acd":function(t,e,n){"use strict";var o=n("ec6b"),i=n.n(o);i.a},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,n){var o=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"81aa":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{withOutNav:t.$vuetify.breakpoint.smAndDown,withOutNavMd:t.$vuetify.breakpoint.mdOnly,withNav:t.$vuetify.breakpoint.lgAndUp}},[n("l-map",{attrs:{id:"map",zoom:t.zoom,center:t.center,"min-zoom":t.minZoom,options:{zoomControl:!1,preferCanvas:!1,attributionControl:!1}},on:{"update:zoom":t.onUpdateMapZoom}},[n("l-control-zoom",{attrs:{position:"bottomright"}}),n("l-tile-layer",{attrs:{url:t.url}}),n("l-control",{attrs:{position:"bottomright"}},t._l(t.layers,(function(e){return n("l-layer-group",{key:e.name,attrs:{"layer-type":"overlay",name:e.name}},t._l(e.devices,(function(o,i){return n("l-marker",{key:i,attrs:{"lat-lng":[o.posx,o.posy],icon:0===o.status?e.icon:e.icon_disabled},on:{click:function(e){return t.onclick(o.dev_id)}}},[n("l-tooltip",{attrs:{content:t.getTooltip(o)}})],1)})),1)})),1)],1)],1)},i=[],r=(n("99af"),n("7db0"),n("841c"),n("2253")),s=n("2699"),a=n("a40a"),c=n("4e2b"),p=n("e11e"),u=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},l=function(t,e,n,o){var i=function(o){var i="set"+u(o),r=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[i]?t.$watch(o,(function(e,n){t[i](e,n)}),{deep:r}):"setOptions"===i?t.$watch(o,(function(t,n){Object(p["setOptions"])(e,t)}),{deep:r}):e[i]&&t.$watch(o,(function(t,n){e[i](t)}),{deep:r})};for(var r in n)i(r)},d=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},f=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=d(n);t=d(t);var i=e.$options.props;for(var r in t){var s=i[r]?i[r].default:Symbol("unique");o[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),o[r]=t[r]):o[r]||(o[r]=t[r])}return o},h=function(t){var e=!1;while(t&&!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},v={props:{content:{type:String,default:null,custom:!0}},mounted:function(){this.popperOptions={}},methods:{setContent:function(t){this.mapObject&&null!==t&&void 0!==t&&this.mapObject.setContent(t)}},render:function(t){return this.$slots.default?t("div",this.$slots.default):null}},m={props:{options:{type:Object,default:function(){return{}}}}},y={name:"LTooltip",mixins:[v,m],mounted:function(){var t=this,e=f(this.popperOptions,this);this.mapObject=Object(p["tooltip"])(e),p["DomEvent"].on(this.mapObject,this.$listeners),l(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=h(this.$parent),this.parentContainer.mapObject.bindTooltip(this.mapObject),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},beforeDestroy:function(){this.parentContainer&&(this.parentContainer.unbindTooltip?this.parentContainer.unbindTooltip():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindTooltip&&this.parentContainer.mapObject.unbindTooltip())}};function b(t,e,n,o,i,r,s,a,c,p){"boolean"!==typeof s&&(c=a,a=s,s=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):e&&(u=s?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var O=b,g=y,_=void 0,x=void 0,C=void 0,$=void 0,j=O({},_,g,x,$,C,void 0,void 0),T=j,w=n("f60f"),L=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},S=function(t,e,n,o){var i=function(o){var i="set"+L(o),r=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[i]?t.$watch(o,(function(e,n){t[i](e,n)}),{deep:r}):"setOptions"===i?t.$watch(o,(function(t,n){Object(p["setOptions"])(e,t)}),{deep:r}):e[i]&&t.$watch(o,(function(t,n){e[i](t)}),{deep:r})};for(var r in n)i(r)},R=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},z=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=R(n);t=R(t);var i=e.$options.props;for(var r in t){var s=i[r]?i[r].default:Symbol("unique");o[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),o[r]=t[r]):o[r]||(o[r]=t[r])}return o},E={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},A={props:{options:{type:Object,default:function(){return{}}}}},k={name:"LControlZoom",mixins:[E,A],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function(){var t=this,e=z(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=p["control"].zoom(e),S(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},render:function(){return null}};function I(t,e,n,o,i,r,s,a,c,p){"boolean"!==typeof s&&(c=a,a=s,s=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):e&&(u=s?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var U=I,M=k,Z=void 0,F=void 0,D=void 0,B=void 0,N=U({},Z,M,F,B,D,void 0,void 0),G=N,V=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},W=function(t,e,n,o){var i=function(o){var i="set"+V(o),r=n[o].type===Object||n[o].type===Array||Array.isArray(n[o].type);n[o].custom&&t[i]?t.$watch(o,(function(e,n){t[i](e,n)}),{deep:r}):"setOptions"===i?t.$watch(o,(function(t,n){Object(p["setOptions"])(e,t)}),{deep:r}):e[i]&&t.$watch(o,(function(t,n){e[i](t)}),{deep:r})};for(var r in n)i(r)},X=function(t){var e={};for(var n in t){var o=t[n];null!==o&&void 0!==o&&(e[n]=o)}return e},q=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var o=X(n);t=X(t);var i=e.$options.props;for(var r in t){var s=i[r]?i[r].default:Symbol("unique");o[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),o[r]=t[r]):o[r]||(o[r]=t[r])}return o},P={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},J={props:{options:{type:Object,default:function(){return{}}}}},H={name:"LControlLayers",mixins:[P,J],props:{collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}},mounted:function(){var t=this,e=q(Object.assign({},this.controlOptions,{collapsed:this.collapsed,autoZIndex:this.autoZIndex,hideSingleBase:this.hideSingleBase,sortLayers:this.sortLayers,sortFunction:this.sortFunction}),this);this.mapObject=p["control"].layers(null,null,e),W(this,this.mapObject,this.$options.props),this.$parent.registerLayerControl(this),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},methods:{addLayer:function(t){"base"===t.layerType?this.mapObject.addBaseLayer(t.mapObject,t.name):"overlay"===t.layerType&&this.mapObject.addOverlay(t.mapObject,t.name)},removeLayer:function(t){this.mapObject.removeLayer(t.mapObject)}},render:function(){return null}};function K(t,e,n,o,i,r,s,a,c,p){"boolean"!==typeof s&&(c=a,a=s,s=!1);var u,l="function"===typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):e&&(u=s?function(){e.call(this,p(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(l.functional){var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return n}var Q=K,Y=H,tt=void 0,et=void 0,nt=void 0,ot=void 0,it=Q({},tt,Y,et,ot,nt,void 0,void 0),rt=it,st=n("1ebb"),at=n("18ba"),ct=n("a766"),pt={name:"DeviceMap",props:["search","devices","statuses","types"],mixins:[ct["e"],ct["c"]],created:function(){console.log("created DevicesMap"),this.refreshMapOptions(),this.refreshLayerGroups()},components:{LControl:r["a"],LMap:s["a"],LTileLayer:a["a"],LMarker:c["a"],LTooltip:T,LPopup:w["a"],LControlZoom:G,LControlLayers:rt,LLayerGroup:st["a"]},mounted:function(){},data:function(){return{zoom:1,maxZoom:18,minZoom:5,center:[],url:"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png",layersPosition:"topright",layers:{raingauge:{name:"Rain Gauges",devices:[],icon:at["z"],icon_disabled:at["y"]},waterlevel:{name:"Water Level Station",devices:[],icon:at["i"],icon_disabled:at["h"]},tandem:{name:"Tandem",devices:[],icon:at["db"],icon_disabled:at["cb"]},aws:{name:"Automated Weather Station",devices:[],icon:at["bb"],icon_disabled:at["ab"]}}}},watch:{devices:function(t,e){null==t||this.refreshLayerGroups()},search:function(t,e){console.log("search Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()},statuses:function(t,e){console.log("statuses Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()},types:function(t,e){console.log("types Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()}},methods:{getTooltip:function(t){return"".concat(t.citymun_desc," - ").concat(t.locationDesc," (").concat(t.dev_id,")")},onclick:function(t){this.$emit("device-selected",t)},refreshLayerGroups:function(){this.layers.raingauge.devices=[],this.layers.waterlevel.devices=[],this.layers.tandem.devices=[],this.layers.aws.devices=[];for(var t=0;t<this.devices.length;t++){var e=this.devices[t];if(null==this.search||!1!==this.$_searchMixin_deviceFilter(e,this.search,this.statuses,this.types))switch(e.type_name){case"Rain1":case"Rain2":this.layers.raingauge.devices.push(e);break;case"Waterlevel":this.layers.waterlevel.devices.push(e);break;case"Waterlevel & Rain 2":this.layers.tandem.devices.push(e);break;case"BSWM_Lufft":case"VAISALA":case"UAAWS":this.layers.aws.devices.push(e);break}}},refreshMapOptions:function(){var t=this;this.zoom=at["a"].find((function(e){return e.regCode===t.regCode})).zoomLevel,this.center=at["a"].find((function(e){return e.regCode===t.regCode})).center},onUpdateMapCenter:function(t){},onUpdateMapZoom:function(t){this.zoom=t},onDblClick:function(t){t.stopPropagation()},onRegCodeChange:function(){console.log("DeviceMap.vue onRegCodeChange()"),this.refreshMapOptions()}}},ut=pt,lt=(n("0acd"),n("2877")),dt=Object(lt["a"])(ut,o,i,!1,null,"7c97a18d",null);e["default"]=dt.exports},"841c":function(t,e,n){"use strict";var o=n("d784"),i=n("825a"),r=n("1d80"),s=n("129f"),a=n("14c3");o("search",1,(function(t,e,n){return[function(e){var n=r(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var r=i(t),c=String(this),p=r.lastIndex;s(p,0)||(r.lastIndex=0);var u=a(r,c);return s(r.lastIndex,p)||(r.lastIndex=p),null===u?-1:u.index}]}))},9263:function(t,e,n){"use strict";var o=n("ad6d"),i=RegExp.prototype.exec,r=String.prototype.replace,s=i,a=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=void 0!==/()??/.exec("")[1],p=a||c;p&&(s=function(t){var e,n,s,p,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),a&&(e=u.lastIndex),s=i.call(u,t),a&&s&&(u.lastIndex=u.global?s.index+s[0].length:e),c&&s&&s.length>1&&r.call(s[0],n,(function(){for(p=1;p<arguments.length-2;p++)void 0===arguments[p]&&(s[p]=void 0)})),s}),t.exports=s},d784:function(t,e,n){"use strict";var o=n("9112"),i=n("6eeb"),r=n("d039"),s=n("b622"),a=n("9263"),c=s("species"),p=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var d=s(t),f=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),h=f&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!f||!h||"replace"===t&&!p||"split"===t&&!u){var v=/./[d],m=n(d,""[t],(function(t,e,n,o,i){return e.exec===a?f&&!i?{done:!0,value:v.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}})),y=m[0],b=m[1];i(String.prototype,t,y),i(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)}),l&&o(RegExp.prototype[d],"sham",!0)}}},ec6b:function(t,e,n){}}]);