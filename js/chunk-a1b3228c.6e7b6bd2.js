(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1b3228c"],{"6c2b":function(e,t,a){"use strict";a("74a5")},"74a5":function(e,t,a){},"9b82":function(e,t,a){"use strict";a.r(t);var o=a("8336"),n=a("b0af"),r=a("2e4b"),i=a("0e8f"),c=a("a722"),l=a("e449"),s=a("b56d"),u=a("2677"),d=function(){var e=this,t=e._self._c;return t(c["a"],{attrs:{row:"",wrap:""}},[t(i["a"],{attrs:{xs12:""}},[e.componentError?t(o["a"],{style:{left:"50%",transform:"translate(-50%, 100%)","z-index":5},attrs:{absolute:"",top:"",color:"error"},on:{click:function(t){return e.tryAgainMarker()}}},[e._v("Try Again ")]):e._e()],1),t(i["a"],{attrs:{xs12:""}},[t("div",{class:{withOutNav:e.$vuetify.breakpoint.smAndDown,withOutNavMd:e.$vuetify.breakpoint.mdOnly,withNav:e.$vuetify.breakpoint.lgAndUp}},[e.regCode?t("l-map",{attrs:{id:"map",zoom:e.zoom,center:e.center,crs:e.crs,"min-zoom":e.minZoom,options:{zoomControl:!1,preferCanvas:!0,doubleClickZoom:!1,attributionControl:!1}},on:{"update:zoom":e.onUpdateMapZoom}},[t("l-tile-layer",{attrs:{url:e.url}}),t("l-control-zoom",{attrs:{position:"topright"}}),t("l-control",{attrs:{position:"topleft",id:"control-container"}},[t(c["a"],{attrs:{wrap:"","fill-height":""}},[t(n["a"],{staticClass:"pa-2 ma-0"},[t(i["a"],{attrs:{xs12:"","d-flex":""}},[t(s["a"],{staticClass:"pa-0",attrs:{items:e.markers,label:"Marker:","prepend-icon":e.markerPrependIcon,"hide-details":"","single-line":""},model:{value:e.activeMarker,callback:function(t){e.activeMarker=t},expression:"activeMarker"}})],1),t(i["a"],{attrs:{xs12:"","d-flex":""}},[t(l["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(a){var o=a.on;return[t(u["a"],e._g({staticClass:"pa-0",staticStyle:{"min-width":"230px","max-width":"230px"},attrs:{value:e.computedDateFormattedMomentjs(e.selectedDate),"prepend-icon":"event",label:"Date:",clearable:"","persistent-hint":"","hide-details":"",readonly:"","single-line":""},on:{"click:clear":e.onDateClear}},o))]}}],null,!1,3830865609),model:{value:e.menuDate,callback:function(t){e.menuDate=t},expression:"menuDate"}},[t(r["a"],{attrs:{max:e.maxDateWMO,"no-title":"",scrollable:""},on:{input:e.onDateInput},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)],1)],1)],1)],1),""!==e.activeMarker?t(e.activeMarker,{tag:"component",attrs:{regCode:e.regCode,"archive-date":e.selectedDate},on:{"error-server":function(t){return e.onComponentError()},loaded:function(t){return e.onLoaded()}}}):e._e()],1):e._e()],1)])],1)},p=[],m=a("5530"),f=(a("7db0"),a("d3b7"),a("99af"),a("2699")),h=a("a40a"),v=a("2253"),b=a("c8b6"),g=a("a766"),k=a("18ba"),C=a("0261"),M=a("2ed7"),x=a("3b9c"),y=a("2f62"),D={name:"ArchiveMap",components:{LMap:f["a"],LTileLayer:h["a"],LControl:v["a"],LControlZoom:b["a"],MapRain:M["a"],MapWaterLevel:x["a"]},mixins:[g["c"],C["a"]],created:function(){console.log("created ArchiveMap"),""!==this.tilelayer&&null!==this.tilelayer&&(this.url=this.tilelayer),this.refreshMapOptions()},computed:Object(m["a"])(Object(m["a"])({},Object(y["b"])({tilelayer:"getHomeMapTileLayer"})),{},{crs:function(){return L.CRS.EPSG3857},mapName:function(){var e=this;return this.tilesets.find((function(t){return t.url===e.url})).name},markerPrependIcon:function(){return"cloud"}}),data:function(){return{zoom:8,minZoom:5,center:[],url:"",componentError:!1,markers:[{text:"Rainfall",value:"MapRain"},{text:"Waterlevel",value:"MapWaterLevel"}],activeMarker:"",menuDate:"",selectedDate:""}},methods:{onUpdateMapZoom:function(e){console.log("zoom changed ".concat(e)),this.zoom=e},refreshMapOptions:function(){var e=this;null!=this.regCode&&(this.zoom=k["a"].find((function(t){return t.regCode===e.regCode})).zoomLevel,this.center=k["a"].find((function(t){return t.regCode===e.regCode})).center,console.log("refreshMapOptions regCode: ".concat(this.deviceRegion.regCode," Codezoom:").concat(this.zoom," ").concat(this.center)))},onRegCodeChange:function(){console.log("Home.vue onRegCodeChange()"),this.refreshMapOptions(),this.componentError=!1},onDateInput:function(e){this.menuDate=!1},onDateClear:function(){this.selectedDate=""},onLoaded:function(){this.componentError=!1},onComponentError:function(){this.componentError=!0},tryAgainMarker:function(){var e=this,t=this.activeMarker;this.activeMarker="",this.componentError=!1,this.$nextTick((function(){e.activeMarker=t}))}}},w=D,z=(a("6c2b"),a("2877")),O=Object(z["a"])(w,d,p,!1,null,"0b4301d1",null);t["default"]=O.exports}}]);