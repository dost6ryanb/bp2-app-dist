(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36a529da"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,o){var n=o("c6b6"),r=o("9263");t.exports=function(t,e){var o=t.exec;if("function"===typeof o){var i=o.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"81aa":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{withOutNav:t.$vuetify.breakpoint.smAndDown,withOutNavMd:t.$vuetify.breakpoint.mdOnly,withNav:t.$vuetify.breakpoint.lgAndUp}},[o("l-map",{attrs:{id:"map",zoom:t.zoom,center:t.center,"max-zoom":t.maxZoom,"min-zoom":t.minZoom,options:{zoomControl:!1,preferCanvas:!1,attributionControl:!1}},on:{"update:zoom":t.onUpdateMapZoom}},[o("l-control-zoom",{attrs:{position:"bottomright"}}),o("l-tile-layer",{attrs:{url:t.url}}),o("l-control",{attrs:{position:"bottomright"}},t._l(t.layers,(function(e){return o("l-layer-group",{key:e.name,attrs:{"layer-type":"overlay",name:e.name}},t._l(e.devices,(function(n,r){return o("l-marker",{key:r,attrs:{"lat-lng":[n.posx,n.posy],icon:0===n.status?e.icon:e.icon_disabled},on:{click:function(e){return t.onclick(n.dev_id)}}},[o("l-tooltip",{attrs:{content:t.getTooltip(n)}})],1)})),1)})),1)],1)],1)},r=[],i=(o("99af"),o("7db0"),o("841c"),o("2253")),a=o("2699"),s=o("a40a"),c=o("4e2b"),u=o("31dc"),p=o("f60f"),l=o("e11e"),d=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},f=function(t,e,o,n){var r=function(n){var r="set"+d(n),i=o[n].type===Object||o[n].type===Array||Array.isArray(o[n].type);o[n].custom&&t[r]?t.$watch(n,(function(e,o){t[r](e,o)}),{deep:i}):"setOptions"===r?t.$watch(n,(function(t,o){Object(l["setOptions"])(e,t)}),{deep:i}):e[r]&&t.$watch(n,(function(t,o){e[r](t)}),{deep:i})};for(var i in o)r(i)},h=function(t){var e={};for(var o in t){var n=t[o];null!==n&&void 0!==n&&(e[o]=n)}return e},v=function(t,e){var o=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var n=h(o);t=h(t);var r=e.$options.props;for(var i in t){var a=r[i]?r[i].default:Symbol("unique");n[i]&&a!==t[i]?(console.warn(i+" props is overriding the value passed in the options props"),n[i]=t[i]):n[i]||(n[i]=t[i])}return n},m={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},y={props:{options:{type:Object,default:function(){return{}}}}},b={name:"LControlZoom",mixins:[m,y],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function(){var t=this,e=v(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=l["control"].zoom(e),f(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},render:function(){return null}};function g(t,e,o,n,r,i,a,s,c,u){"boolean"!==typeof a&&(c=s,s=a,a=!1);var p,l="function"===typeof o?o.options:o;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),n&&(l._scopeId=n),i?(p=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=p):e&&(p=a?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),p)if(l.functional){var d=l.render;l.render=function(t,e){return p.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,p):[p]}return o}var O=g,x=b,_=void 0,C=void 0,$=void 0,j=void 0,L=O({},_,x,C,j,$,void 0,void 0),w=L,T=function(t){return t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t},S=function(t,e,o,n){var r=function(n){var r="set"+T(n),i=o[n].type===Object||o[n].type===Array||Array.isArray(o[n].type);o[n].custom&&t[r]?t.$watch(n,(function(e,o){t[r](e,o)}),{deep:i}):"setOptions"===r?t.$watch(n,(function(t,o){Object(l["setOptions"])(e,t)}),{deep:i}):e[r]&&t.$watch(n,(function(t,o){e[r](t)}),{deep:i})};for(var i in o)r(i)},z=function(t){var e={};for(var o in t){var n=t[o];null!==n&&void 0!==n&&(e[o]=n)}return e},R=function(t,e){var o=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var n=z(o);t=z(t);var r=e.$options.props;for(var i in t){var a=r[i]?r[i].default:Symbol("unique");n[i]&&a!==t[i]?(console.warn(i+" props is overriding the value passed in the options props"),n[i]=t[i]):n[i]||(n[i]=t[i])}return n},k={props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},I={props:{options:{type:Object,default:function(){return{}}}}},E={name:"LControlLayers",mixins:[k,I],props:{collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}},mounted:function(){var t=this,e=R(Object.assign({},this.controlOptions,{collapsed:this.collapsed,autoZIndex:this.autoZIndex,hideSingleBase:this.hideSingleBase,sortLayers:this.sortLayers,sortFunction:this.sortFunction}),this);this.mapObject=l["control"].layers(null,null,e),S(this,this.mapObject,this.$options.props),this.$parent.registerLayerControl(this),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},methods:{addLayer:function(t){"base"===t.layerType?this.mapObject.addBaseLayer(t.mapObject,t.name):"overlay"===t.layerType&&this.mapObject.addOverlay(t.mapObject,t.name)},removeLayer:function(t){this.mapObject.removeLayer(t.mapObject)}},render:function(){return null}};function A(t,e,o,n,r,i,a,s,c,u){"boolean"!==typeof a&&(c=s,s=a,a=!1);var p,l="function"===typeof o?o.options:o;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),n&&(l._scopeId=n),i?(p=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=p):e&&(p=a?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),p)if(l.functional){var d=l.render;l.render=function(t,e){return p.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,p):[p]}return o}var M=A,U=E,Z=void 0,B=void 0,F=void 0,G=void 0,D=M({},Z,U,B,G,F,void 0,void 0),N=D,W=o("1ebb"),P=o("18ba"),V=o("a766"),X={name:"DeviceMap",props:["search","devices","statuses","types"],mixins:[V["e"],V["c"]],created:function(){console.log("created DevicesMap"),this.refreshMapOptions(),this.refreshLayerGroups()},components:{LControl:i["a"],LMap:a["a"],LTileLayer:s["a"],LMarker:c["a"],LTooltip:u["a"],LPopup:p["a"],LControlZoom:w,LControlLayers:N,LLayerGroup:W["a"]},mounted:function(){},data:function(){return{zoom:1,maxZoom:12,minZoom:5,center:[],url:"http://v2.geoportal.gov.ph/tiles/v2/PGP/{z}/{x}/{y}.png",layersPosition:"topright",layers:{raingauge:{name:"Rain Gauges",devices:[],icon:P["z"],icon_disabled:P["y"]},waterlevel:{name:"Water Level Station",devices:[],icon:P["i"],icon_disabled:P["h"]},tandem:{name:"Tandem",devices:[],icon:P["cb"],icon_disabled:P["bb"]},aws:{name:"Automated Weather Station",devices:[],icon:P["ab"],icon_disabled:P["Z"]}}}},watch:{devices:function(t,e){null==t||this.refreshLayerGroups()},search:function(t,e){console.log("search Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()},statuses:function(t,e){console.log("statuses Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()},types:function(t,e){console.log("types Updating ".concat(e," to ").concat(t)),this.refreshLayerGroups()}},methods:{getTooltip:function(t){return"".concat(t.citymun_desc," - ").concat(t.locationDesc," (").concat(t.dev_id,")")},onclick:function(t){this.$emit("device-selected",t)},refreshLayerGroups:function(){this.layers.raingauge.devices=[],this.layers.waterlevel.devices=[],this.layers.tandem.devices=[],this.layers.aws.devices=[];for(var t=0;t<this.devices.length;t++){var e=this.devices[t];if(null==this.search||!1!==this.$_searchMixin_deviceFilter(e,this.search,this.statuses,this.types))switch(e.type_name){case"Rain1":case"Rain2":this.layers.raingauge.devices.push(e);break;case"Waterlevel":this.layers.waterlevel.devices.push(e);break;case"Waterlevel & Rain 2":this.layers.tandem.devices.push(e);break;case"BSWM_Lufft":case"VAISALA":case"UAAWS":this.layers.aws.devices.push(e);break}}},refreshMapOptions:function(){var t=this;this.zoom=P["a"].find((function(e){return e.regCode===t.regCode})).zoomLevel,this.center=P["a"].find((function(e){return e.regCode===t.regCode})).center},onUpdateMapCenter:function(t){},onUpdateMapZoom:function(t){this.zoom=t},onDblClick:function(t){t.stopPropagation()},onRegCodeChange:function(){console.log("DeviceMap.vue onRegCodeChange()"),this.refreshMapOptions()}}},q=X,J=(o("8ea1"),o("2877")),H=Object(J["a"])(q,n,r,!1,null,"22afb7f1",null);e["default"]=H.exports},"841c":function(t,e,o){"use strict";var n=o("d784"),r=o("825a"),i=o("1d80"),a=o("129f"),s=o("14c3");n("search",1,(function(t,e,o){return[function(e){var o=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,o):new RegExp(e)[t](String(o))},function(t){var n=o(e,t,this);if(n.done)return n.value;var i=r(t),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var p=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===p?-1:p.index}]}))},"8ea1":function(t,e,o){"use strict";var n=o("afff"),r=o.n(n);r.a},9263:function(t,e,o){"use strict";var n=o("ad6d"),r=RegExp.prototype.exec,i=String.prototype.replace,a=r,s=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(a=function(t){var e,o,a,u,p=this;return c&&(o=new RegExp("^"+p.source+"$(?!\\s)",n.call(p))),s&&(e=p.lastIndex),a=r.call(p,t),s&&a&&(p.lastIndex=p.global?a.index+a[0].length:e),c&&a&&a.length>1&&i.call(a[0],o,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),t.exports=a},afff:function(t,e,o){},d784:function(t,e,o){"use strict";var n=o("9112"),r=o("6eeb"),i=o("d039"),a=o("b622"),s=o("9263"),c=a("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var o="ab".split(t);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));t.exports=function(t,e,o,l){var d=a(t),f=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),h=f&&!i((function(){var e=!1,o=/a/;return"split"===t&&(o={},o.constructor={},o.constructor[c]=function(){return o},o.flags="",o[d]=/./[d]),o.exec=function(){return e=!0,null},o[d](""),!e}));if(!f||!h||"replace"===t&&!u||"split"===t&&!p){var v=/./[d],m=o(d,""[t],(function(t,e,o,n,r){return e.exec===s?f&&!r?{done:!0,value:v.call(e,o,n)}:{done:!0,value:t.call(o,e,n)}:{done:!1}})),y=m[0],b=m[1];r(String.prototype,t,y),r(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)}),l&&n(RegExp.prototype[d],"sham",!0)}}}}]);